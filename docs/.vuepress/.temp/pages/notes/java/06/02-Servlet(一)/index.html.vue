<template><div><h1 id="_02-servlet-ä¸€" tabindex="-1"><a class="header-anchor" href="#_02-servlet-ä¸€" aria-hidden="true">#</a> 02 - Servletï¼ˆä¸€ï¼‰ ğŸ›©ï¸</h1>
<nav class="table-of-contents"><ul><li><router-link to="#javaweb-åŸºç¡€æŠ€æœ¯">JavaWeb åŸºç¡€æŠ€æœ¯</router-link></li><li><router-link to="#servlet-æŠ€æœ¯å…¥é—¨">Servlet æŠ€æœ¯å…¥é—¨</router-link><ul><li><router-link to="#servlet-æ¦‚è¿°">Servlet æ¦‚è¿°</router-link></li><li><router-link to="#helloservlet">HelloServlet</router-link></li></ul></li><li><router-link to="#servlet-åˆ›å»ºæ–¹å¼å¯¹æ¯”">Servlet åˆ›å»ºæ–¹å¼å¯¹æ¯”</router-link></li><li><router-link to="#servlet-è¯·æ±‚æµç¨‹-ç”Ÿå‘½å‘¨æœŸ">Servlet è¯·æ±‚æµç¨‹(ç”Ÿå‘½å‘¨æœŸ)</router-link><ul><li><router-link to="#æœåŠ¡å™¨é…ç½®çƒ­éƒ¨ç½²">æœåŠ¡å™¨é…ç½®çƒ­éƒ¨ç½²</router-link></li></ul></li><li><router-link to="#httpservletrequest-httpservletresponse">HttpServletRequest&amp;HttpServletResponse</router-link><ul><li><router-link to="#httpservletrequest-è€³æœµ">HttpServletRequest(è€³æœµ)</router-link></li><li><router-link to="#httpservletresponse-å˜´å·´">HttpServletResponseï¼ˆå˜´å·´ï¼‰</router-link></li></ul></li><li><router-link to="#ç»¼åˆæ¡ˆä¾‹-ç™»å½•æ³¨å†Œå®ç°">ç»¼åˆæ¡ˆä¾‹:ç™»å½•æ³¨å†Œå®ç°</router-link></li></ul></nav>
<h2 id="javaweb-åŸºç¡€æŠ€æœ¯" tabindex="-1"><a class="header-anchor" href="#javaweb-åŸºç¡€æŠ€æœ¯" aria-hidden="true">#</a> JavaWeb åŸºç¡€æŠ€æœ¯</h2>
<p>javaweb æ˜¯ä¸€ä¸ªåºå¤§çŸ¥è¯†ä½“ç³»ï¼Œå†…éƒ¨ç»¼åˆäº†å„é¡¹ web å¼€å‘ç›¸å…³æŠ€æœ¯ï¼Œå¸¸è§æœ‰ä»¥ä¸‹ï¼š</p>
<ul>
<li>Servlet(æœåŠ¡ç«¯å°ç¨‹åº)</li>
<li>JSP(åŠ¨æ€ç½‘é¡µ)</li>
<li>JSTL/EL è¡¨è¾¾å¼(è¡¨è¾¾å¼è¯­è¨€)</li>
<li>Fileter(è¿‡æ»¤å™¨)</li>
<li>Listener(ç›‘å¬å™¨)</li>
<li>WebSocket(æœåŠ¡ç«¯æ¶ˆæ¯ä¸»åŠ¨æ¨é€æŠ€æœ¯)</li>
<li>MVCï¼ˆè½¯ä»¶æ¶æ„æ–¹å¼ï¼‰</li>
</ul>
<h2 id="servlet-æŠ€æœ¯å…¥é—¨" tabindex="-1"><a class="header-anchor" href="#servlet-æŠ€æœ¯å…¥é—¨" aria-hidden="true">#</a> Servlet æŠ€æœ¯å…¥é—¨</h2>
<p><img src="@source/notes/java/06/02-Servlet(ä¸€)/assets/1611105886913.png" alt="1611105886913"></p>
<h3 id="servlet-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#servlet-æ¦‚è¿°" aria-hidden="true">#</a> Servlet æ¦‚è¿°</h3>
<p>â€‹ Servlet:æ˜¯ä¸€ä¸ªç»„åˆè¯ï¼Œç”± Server+Applet ç»„åˆè€Œæˆï¼›æ˜¯ä¸€é¡¹è¿è¡Œåœ¨æœåŠ¡ç«¯çš„ java å°ç¨‹åºï¼›æä¾›äº†å¯¹å®¢æˆ·ç«¯ http<strong>è¯·æ±‚å¤„ç†</strong>çš„èƒ½åŠ›ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿå°†å¤„ç†ä¹‹åçš„<strong>ç»“æœå“åº”</strong>ç»™å®¢æˆ·ç«¯</p>
<h3 id="helloservlet" tabindex="-1"><a class="header-anchor" href="#helloservlet" aria-hidden="true">#</a> HelloServlet</h3>
<ol>
<li>åˆ›å»ºæ™®é€š java ç±»ç»§æ‰¿ HttpServlet</li>
<li>é‡å†™ doGet/doPost æ–¹æ³•ï¼ˆæˆ–ç›´æ¥é‡å†™ serviceï¼‰</li>
<li>é…ç½® url-patternï¼ˆä¸¤ç§ï¼‰</li>
</ol>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"HelloServlet...Get"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"HelloServlet...Post"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åŸºäºæ³¨è§£çš„é…ç½®" tabindex="-1"><a class="header-anchor" href="#åŸºäºæ³¨è§£çš„é…ç½®" aria-hidden="true">#</a> åŸºäºæ³¨è§£çš„é…ç½®</h4>
<p>ä» web3.0 å¼€å§‹ servlet æ”¯æŒä½¿ç”¨æ³¨è§£çš„æ–¹å¼é…ç½® servlet,ä½¿ç”¨æ–¹å¼æ˜¯ç›´æ¥åœ¨ servlet ç±»ä¸Šæ–¹ä½¿ç”¨<code v-pre>@WebServlet</code>æ³¨è§£ï¼Œéœ€è¦æ³¨æ˜ url-pattern åœ°å€ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æµè§ˆå™¨è®¿é—®è·¯å¾„å¦‚ä¸‹ï¼š</p>
<div class="language-text line-numbers-mode" data-ext="text"><pre v-pre class="language-text"><code>http://localhost/javaweb02/hello
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ–è€…</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"/hello"</span><span class="token punctuation">,</span><span class="token string">"/HelloServlet"</span><span class="token punctuation">,</span><span class="token string">"/hi"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æµè§ˆå™¨è®¿é—®è·¯å¾„å¯ä»¥ä»ä»¥ä¸Šä¸‰ä¸ªæ˜ å°„åœ°å€ä¸­ä»»æ„é€‰æ‹©</p>
<div class="language-text line-numbers-mode" data-ext="text"><pre v-pre class="language-text"><code>http://localhost/javaweb02/hi
http://localhost/javaweb02/hello
http://localhost/javaweb02/HelloWorld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åŸºäº-xml-çš„é…ç½®-3-0-ä»¥ä¸‹çš„é…ç½®" tabindex="-1"><a class="header-anchor" href="#åŸºäº-xml-çš„é…ç½®-3-0-ä»¥ä¸‹çš„é…ç½®" aria-hidden="true">#</a> åŸºäº xml çš„é…ç½®ï¼ˆ3.0 ä»¥ä¸‹çš„é…ç½®ï¼‰</h4>
<p>åœ¨ web3.0 ä»¥å‰å¯¹äº servlet çš„é…ç½®åªèƒ½é€šè¿‡ web.xml æ–‡ä»¶(<strong>ä½äº web æ ¹ç›®å½•çš„ WEB-INF ä¸­</strong>)å®Œæˆ</p>
<div class="language-xml line-numbers-mode" data-ext="xml"><pre v-pre class="language-xml"><code><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">"</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>com.softeem.servlets.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="servlet-åˆ›å»ºæ–¹å¼å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#servlet-åˆ›å»ºæ–¹å¼å¯¹æ¯”" aria-hidden="true">#</a> Servlet åˆ›å»ºæ–¹å¼å¯¹æ¯”</h2>
<p>Servlet çš„åˆ›å»ºæ–¹å¼æœ‰ä¸‰ç§ï¼š</p>
<ol>
<li>å®ç° Servlet æ¥å£</li>
<li>ç»§æ‰¿ GenericServlet</li>
<li><strong>ç»§æ‰¿ HttpServletï¼ˆæ¨èï¼‰</strong></li>
</ol>
<h2 id="servlet-è¯·æ±‚æµç¨‹-ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#servlet-è¯·æ±‚æµç¨‹-ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> Servlet è¯·æ±‚æµç¨‹(ç”Ÿå‘½å‘¨æœŸ)</h2>
<p><img src="@source/notes/java/06/02-Servlet(ä¸€)/assets/1611114241832.png" alt="1611114241832"></p>
<p>Servlet åœ¨ web æœåŠ¡å™¨ä¸­æ˜¯åŸºäºå¤šçº¿ç¨‹çš„å®ç°ï¼Œæ˜¯å•ä¾‹çš„æ¨¡å¼è¿è¡Œï¼ˆ<strong>å°½é‡é¿å…åœ¨ servlet ä¸­å®šä¹‰å…¨å±€å˜é‡ï¼Œå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜</strong>ï¼‰ï¼Œå³å¯¹äºæ‰€æœ‰å®¢æˆ·ç«¯çš„è¯·æ±‚æ˜¯é€šè¿‡åŒä¸€ä¸ªå®ä¾‹æ¥å®ç°ï¼Œé€šè¿‡ä»£ç æµ‹è¯•å¯ä»¥çœ‹å‡º:</p>
<p><img src="@source/notes/java/06/02-Servlet(ä¸€)/assets/1611114513198.png" alt="1611114513198"></p>
<p><strong>æ€»ç»“ servlet ç”Ÿå‘½å‘¨æœŸ:</strong></p>
<ol>
<li>web å®¹å™¨ï¼ˆweb æœåŠ¡å™¨)åˆå§‹åŒ–ä¼šé¦–å…ˆåŠ è½½å¹¶æ ¡éªŒæ‰€æœ‰çš„ Servlet</li>
<li>å½“å®¢æˆ·ç«¯å¯¹ servlet å‘èµ·ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œservlet ä¼šè‡ªåŠ¨æ‰§è¡Œ init æ–¹æ³•å®Œæˆä¸€äº›åˆå§‹åŒ–å·¥ä½œï¼ˆinit æ–¹æ³•åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼‰</li>
<li>ç„¶åæ ¹æ®å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚æ–¹æ³•ç”± HttpServlet ä¸­ service æ–¹æ³•å†³å®šè°ƒç”¨ doXXX æ–¹æ³•å¤„ç†è¯·æ±‚</li>
<li>ä¹‹åä»»ä½•å®¢æˆ·ç«¯è¯·æ±‚éƒ½ä¼šç›´æ¥æ‰§è¡Œ doXXX æ–¹æ³•ï¼Œè€Œä¸ä¼šå†æ¬¡æ‰§è¡Œ init</li>
<li>å½“ web å®¹å™¨åœæ­¢æœåŠ¡æ—¶ï¼Œæ‰€æœ‰çš„ servlet ä¼šæ‰§è¡Œ destory å®Œæˆä¸€äº›é”€æ¯å·¥ä½œ</li>
</ol>
<h3 id="æœåŠ¡å™¨é…ç½®çƒ­éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡å™¨é…ç½®çƒ­éƒ¨ç½²" aria-hidden="true">#</a> æœåŠ¡å™¨é…ç½®çƒ­éƒ¨ç½²</h3>
<p>æ¯æ¬¡å¯¹ servlet ç±»ï¼ˆæˆ–è€… jspï¼Œå…¶ä»–å„ç§èµ„æºç±»ï¼‰è¿›è¡Œä¿®æ”¹ï¼Œéƒ½éœ€è¦é‡å¯æœåŠ¡å™¨æ‰èƒ½å¤Ÿè®©æœ€æ–°çš„é…ç½®ç”Ÿæ•ˆï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œtomcat æœåŠ¡å™¨æ˜¯æ”¯æŒçƒ­æ›´æ–°çš„ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p>
<p><img src="@source/notes/java/06/02-Servlet(ä¸€)/assets/1611115080022.png" alt="1611115080022"></p>
<h2 id="httpservletrequest-httpservletresponse" tabindex="-1"><a class="header-anchor" href="#httpservletrequest-httpservletresponse" aria-hidden="true">#</a> HttpServletRequest&amp;HttpServletResponse</h2>
<p>Servlet ä¸­è®¾è®¡äº†ä¸¤ä¸ªæ¥å£ç”¨äºå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ä»¥åŠåšå‡ºç›¸åº”ï¼Œåˆ†åˆ«ä¸º:</p>
<ul>
<li>HttpServletRequest</li>
<li>HttpServletResponse</li>
</ul>
<h3 id="httpservletrequest-è€³æœµ" tabindex="-1"><a class="header-anchor" href="#httpservletrequest-è€³æœµ" aria-hidden="true">#</a> HttpServletRequest(è€³æœµ)</h3>
<p>è¯¥æ¥å£ç”¨äºæ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›è¯·æ±‚çš„å¤´ä¿¡æ¯ï¼Œ<strong>æäº¤çš„æ•°æ®</strong>ï¼Œä»¥åŠå®¢æˆ·ç«¯çš„çŠ¶æ€ç­‰;Servlet ä¸­å¤šæ•°æ—¶å€™ä½¿ç”¨ HttpServletRequest å¯¹è±¡éƒ½æ˜¯ä¸ºäº†è·å–å®¢æˆ·ç«¯æäº¤çš„æ•°æ®</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">//        System.out.println("è¿™æ˜¯ç¬¬ä¸€ä¸ªServletç±»ï¼ï¼ï¼ï¼");</span>
    <span class="token comment">//è·å–è¯·æ±‚å¤´çš„æ‰€æœ‰åç§°</span>
    <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> headers <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getHeaderNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>headers<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> headers<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> value <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//            System.out.println(name+"==="+value);</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/**è·å–å®¢æˆ·ç«¯ä¿¡æ¯*/</span>
    <span class="token comment">//è·å–å®¢æˆ·ç«¯ipåœ°å€</span>
    <span class="token class-name">String</span> ip <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRemoteAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯ip-->"</span><span class="token operator">+</span>ip<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> user <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRemoteUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯-->"</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> host <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRemoteHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯ä¸»æœºå--->"</span><span class="token operator">+</span>host<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> port <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRemotePort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å®¢æˆ·ç«¯ç«¯å£--->"</span><span class="token operator">+</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"============================="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**è·å–è¯·æ±‚ä¿¡æ¯*/</span>
    <span class="token class-name">String</span> serverName <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getServerName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> path <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> serverPort <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getServerPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> protocol <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getProtocol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> queryString <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getQueryString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åè®®===>"</span><span class="token operator">+</span>protocol<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"serverName===>"</span><span class="token operator">+</span>serverName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æœåŠ¡ç«¯ç«¯å£===>"</span><span class="token operator">+</span>serverPort<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·æ±‚èµ„æºåœ°å€===>"</span><span class="token operator">+</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æŸ¥è¯¢ä¿¡æ¯===>"</span><span class="token operator">+</span>queryString<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-----------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>HttpServletRequest è·å–å®¢æˆ·ç«¯æäº¤æ•°æ®çš„æ–¹å¼éå¸¸å¤šï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>getParameter(String name)</strong></td>
<td>ä»å®¢æˆ·ç«¯çš„è¯·æ±‚å‚æ•°ä¸­é€šè¿‡ key è·å–ä¼ é€’å€¼ï¼ˆä¾‹å¦‚ username=softeemï¼‰</td>
</tr>
<tr>
<td><strong>getParameterValues(String name)</strong></td>
<td>ä»å®¢æˆ·ç«¯çš„è¯·æ±‚å‚æ•°ä¸­è·å–æ•°æ®(å­—ç¬¦ä¸²æ•°ç»„)</td>
</tr>
<tr>
<td>getParameterMap()</td>
<td>å°†å®¢æˆ·ç«¯æäº¤çš„æ‰€æœ‰æ•°æ®å­˜å‚¨åˆ° Map ä¸­ï¼ˆMap&lt;String,String[]&gt;ï¼‰</td>
</tr>
<tr>
<td>getParameterNames()</td>
<td>è·å–å®¢æˆ·ç«¯æäº¤çš„æ‰€æœ‰æ•°æ®å¯¹åº”çš„ name å€¼</td>
</tr>
</tbody>
</table>
<p>é¡µé¢ç«¯ï¼š</p>
<div class="language-html line-numbers-mode" data-ext="html"><pre v-pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  ç”¨æˆ·åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è¯·è¾“å…¥ç”¨æˆ·å<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
  å¯†ç ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è¯·è¾“å…¥å¯†ç <span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
  çˆ±å¥½ï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fun<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>å¥³ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fun<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>å­¦ä¹  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fun<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>3<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>æ„‰å¿«çš„å­¦ä¹  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fun<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>ç–¯ç‹‚å­¦ä¹  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æäº¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åç«¯ servlet ç±»:</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/user"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//è®¾ç½®è¯·æ±‚ç¼–ç </span>
        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//http://127.0.0.1/javaweb02/user?username=admin&amp;password=123456</span>
        <span class="token comment">//æ•°æ®æ®µï¼šusername=admin&amp;password=123456</span>
        <span class="token comment">//è·å–å®¢æˆ·ç«¯æäº¤çš„æ•°æ®</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token operator">+</span><span class="token string">"/"</span><span class="token operator">+</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//è·å–è¡¨å•æäº¤çš„æ•°æ®ï¼ˆæ•°ç»„ï¼‰</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> funs <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"fun"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token operator">:</span>funs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"================"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//å°†æ‰€æœ‰çš„è¯·æ±‚å‚æ•°å­˜å‚¨ä¸€ä¸ªMapé›†åˆä¸­</span>
        <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span> maps <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        maps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token operator">-></span><span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> item<span class="token operator">:</span>v<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token string">"===="</span><span class="token operator">+</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> pnames <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>pnames<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> pnames<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">"#####"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å…³äº-405-é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å…³äº-405-é—®é¢˜" aria-hidden="true">#</a> å…³äº 405 é—®é¢˜</h4>
<p>å½“å®¢æˆ·ç«¯çš„è¯·æ±‚æ–¹æ³•ï¼ˆæ¯”å¦‚å®¢æˆ·ç«¯å‘é€æ˜¯ GET è¯·æ±‚ï¼‰ä¸æœåŠ¡ç«¯å¤„ç†çš„æ–¹æ³•(æœåŠ¡ç«¯åªé‡å†™äº† doPost æ–¹æ³•)ä¸ä¸€è‡´æ—¶ä¼šå‡ºç° 405 çŠ¶æ€ç </p>
<p><img src="@source/notes/java/06/02-Servlet(ä¸€)/assets/1611123675494.png" alt="1611123675494"></p>
<p>è§£å†³æ–¹æ¡ˆæœ‰å¦‚ä¸‹ä¸¤ç§ï¼š</p>
<ol>
<li>
<p>åœ¨ doGet é‡Œé¢è°ƒç”¨ doPostï¼ˆåä¹‹äº¦å¯ï¼‰</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/user"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>
<li>
<p>ç›´æ¥åœ¨ servlet ç±»ä¸­é‡å†™ service æ–¹æ³•</p>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/user"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token comment">//    @Override</span>
    <span class="token comment">//    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {</span>
    <span class="token comment">//       doGet(request, response);</span>
    <span class="token comment">//    }</span>
    <span class="token comment">//</span>
    <span class="token comment">//    @Override</span>
    <span class="token comment">//    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {</span>
    <span class="token comment">//</span>
    <span class="token comment">//    }</span>


    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œservice"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>
</ol>
<h4 id="è¡¨å•æäº¤" tabindex="-1"><a class="header-anchor" href="#è¡¨å•æäº¤" aria-hidden="true">#</a> è¡¨å•æäº¤</h4>
<p><img src="@source/notes/java/06/02-Servlet(ä¸€)/assets/1611125210463.png" alt="1611125210463"></p>
<h3 id="httpservletresponse-å˜´å·´" tabindex="-1"><a class="header-anchor" href="#httpservletresponse-å˜´å·´" aria-hidden="true">#</a> HttpServletResponseï¼ˆå˜´å·´ï¼‰</h3>
<p>Servlet é™¤äº†èƒ½è·å–å®¢æˆ·ç«¯è¯·æ±‚ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¯¹å®¢æˆ·ç«¯çš„è¯·æ±‚åšå‡ºå“åº”</p>
<p>å¸¸è§æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>getWriter()</td>
<td>ä» response å¯¹è±¡ä¸­è·å–è¾“å‡ºæµ</td>
</tr>
<tr>
<td>sendRedirect()</td>
<td>é‡å®šå‘è¯·æ±‚åˆ°ç›®æ ‡èµ„æº(é¡µé¢ï¼Œæˆ–å…¶ä»– servlet)</td>
</tr>
</tbody>
</table>
<div class="language-java line-numbers-mode" data-ext="java"><pre v-pre class="language-java"><code><span class="token comment">//        resp.setCharacterEncoding("utf-8");</span>
<span class="token comment">//        resp.setContentType("text/html;charset=utf-8");</span>
<span class="token comment">//        PrintWriter out = resp.getWriter();</span>
<span class="token comment">//        out.println("æœåŠ¡ç«¯æ”¶åˆ°ä¿¡æ¯äº†!!!ç­‰7ä¸ªå·¥ä½œæ—¥ä¹‹åå¤„ç†");</span>
<span class="token comment">//        out.flush();</span>

<span class="token comment">//é‡å®šå‘ï¼ˆå®¢æˆ·ç«¯è·³è½¬ï¼‰</span>
<span class="token comment">//        resp.sendRedirect("main.html");</span>

<span class="token comment">//è¯·æ±‚è½¬å‘ï¼ˆæœåŠ¡ç«¯è·³è½¬ï¼‰</span>
req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"main.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç»¼åˆæ¡ˆä¾‹-ç™»å½•æ³¨å†Œå®ç°" tabindex="-1"><a class="header-anchor" href="#ç»¼åˆæ¡ˆä¾‹-ç™»å½•æ³¨å†Œå®ç°" aria-hidden="true">#</a> ç»¼åˆæ¡ˆä¾‹:ç™»å½•æ³¨å†Œå®ç°</h2>
<p><img src="@source/notes/java/06/02-Servlet(ä¸€)/assets/1611129401534.png" alt="1611129401534"></p>
<p><img src="@source/notes/java/06/02-Servlet(ä¸€)/assets/1611129418684.png" alt="1611129418684"></p>
</div></template>


